<html>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

<head>
	<title>SITELIST TARGETING - STRATEGY</title>
	<link href="zip.css" rel="stylesheet"/>
	<script src="t1_toolkit.js"></script>
	<script src="d3/d3.js"></script>
	<script src="d3/d3.min.js"></script>
	<link href="multiple_select/multiple-select/multiple-select.css" rel="stylesheet"/>
	<link href="geo.css" rel="stylesheet"/>
	<script src="multiple_select/multiple-select/jquery.multiple.select.js"></script>

</head>

<body>
	
	<div id = "all_the_stuff">
		<H1 class="title">SITELIST TARGETING - STRATEGY</H1>
					<table>
			<tr><tr><tr></tr></tr></tr>
			<tr><td><select name="org" class="dropdown" style="width:300px" id="org_dropdown" multiple>
				</select>
				<script>
					$("#org_dropdown").multipleSelect({
						placeholder: "Choose Org",
						filter: true,
						selectAll: false,
						single: true
					});	
				</script>	
				</td></tr>
				<tr><td><select name="adv" class="dropdown" style="width:300px" size=12 id="adv_list" multiple></select>
				<script>
					$("#adv_list").multipleSelect({
						placeholder: "Choose Advertiser",
						filter: true
					});	
				</script>		
				</td></tr>
				<tr><td><select name="campaign" class="dropdown" style="width:300px" size=12 id="campaign_list" multiple></select>
				<script>
					$("#campaign_list").multipleSelect({
						placeholder: "Choose Campaign",
						filter: true
					});		
				</script>
				<label><input type="checkbox" name="active_camp" id="active_camp" checked="checked"> Show Active Campaigns Only</label>				
				</td></tr>
				<tr><td><select name="strategy" class="dropdown" style="width:300px" size=12 id="strat_list" multiple></select>
				<script>
					$("#strat_list").multipleSelect({
						placeholder: "Choose Strategies",
						filter: true
					});	
				</script>	
				<label><input type="checkbox" name="active" id="active" checked="checked"> Show Active Strategies Only</label>
				</td></tr><tr><tr><tr><tr><tr><tr></tr></tr></tr></tr></tr></tr>	
			</table>
		<button type="get_dropdown" class="button" value="get_dropdown" id="get_dropdown">&nbspDOWNLOAD&nbsp</button>
		<!--<input id="fileSelect" type="file" accept=".csv" />-->
				

		<br></br>
		
		<div>
			<input type="file" />
			<button type="get" class="button" value="get" id="get">&nbspQA REPORT&nbsp</button>
	
			<button type="submit" class="button" value="punch" id="punch">&nbspBULK EDIT&nbsp</button>
		</div>
		
		<div id="feedback" class="feedback">
		</div>
		
		</div>

	
	</body>
	
<script src="get_orgs.js"></script>	
<script src="get_advs.js"></script>
<script src="get_campaigns.js"></script>
<script src="get_strats.js"></script>
<script src="add_site_strat.js"></script>

		<script>
			var reader = new FileReader();  
				

			$("#punch").click(function() {
				
				  var file = document.querySelector('input[type=file]').files[0];      
				  reader.addEventListener("load", parseFile, false);
				  if (file) {
					reader.readAsText(file);
				  }      

			});
				
				function parseFile(){
				  var data = d3.csvParse(reader.result, function(d){
					  console.log(d);
					  upload_button(d); 
					});		
				  };

	  </script>

		<script>
			var reader2 = new FileReader();  
				

			$("#get").click(function() {
				 
				 
				 
				  var file = document.querySelector('input[type=file]').files[0];		  		  
				  reader2.addEventListener("load", parseFile2, false);
				  
				  if (file) {
				  //console.log(file.length);
					reader2.readAsText(file);
				  }
			});
				
				function parseFile2(){
				var get_arr = reader2.result;
				get_arr = get_arr.split("\n");
				var count = get_arr.length-2;
				console.log(count);
				
				  var data = d3.csvParse(reader2.result, function(d){
				  
					  console.log(d);
					  get_button(d,count); 
					});		
				  };

	  </script>
</html>
